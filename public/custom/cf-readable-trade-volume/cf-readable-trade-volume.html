<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/core-tooltip/core-tooltip.html">

<polymer-element name="cf-readable-trade-volume" attributes="deviation absolute">
	<template>
		<div flex>
			<core-tooltip position="left">
				<span>{{deviation | round(2) | deviationToText(absolute)}}</span>
				<div tip>
					<div style="line-height: 1.5em; font-size: 1.3em">
						<div>Trade volume (24h): <b>{{absolute | round(2) | readableNumbers}}</b> BTC</div>
						<div>Median deviation: <b>{{deviation | round(2) | readableNumbers}}</b> BTC</div>
					</div>
				</div>
			</core-tooltip>
		</div>
	</template>

	<script>

		Polymer("cf-readable-trade-volume", {
			deviationToText: function(deviation, absolute) {
				if (!absolute) {
					return "Normal";
				}
				if (Math.abs(deviation / absolute) < 0.05) {
					return "Normal";
				}
				if (deviation > 0) {
					return "High";
				}
				return "Low";
			},
		});
	</script>
</polymer-element>
