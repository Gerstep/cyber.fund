<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/core-tooltip/core-tooltip.html">

<polymer-element name="cf-readable-supply" attributes="percents change absolute">
	<template>
		<core-tooltip position="top" horizontal layout>
			<div flex>{{percents | round(2) | percentsToText}}</div>
			<div tip>
				<div style="line-height: 1.5em; font-size: 1.3em">
					<div>Current supply: <b>{{absolute | round(2)}}</b></div>
					<div>Absolute change: <b>{{change | round(2)}}</b></div>
				</div>
			</div>
		</core-tooltip>
	</template>

	<script>

		Polymer("cf-readable-supply", {
			percentsToText: function(percents) {
				if (percents < 0) {
					return "Deflation " + (-percents) + "%";
				} else if (percents > 0) {
					return "Inflation " + percents + "%";
				} else {
					return "Stable";
				}
			},
		});
	</script>
</polymer-element>
